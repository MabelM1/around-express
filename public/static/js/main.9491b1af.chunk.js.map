{"version":3,"sources":["components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","serviceWorker.js","index.js"],"names":["Header","className","Footer","CurrentUserContext","React","createContext","Card","props","_id","useContext","card","link","name","likes","likesCount","length","cardId","isOwn","owner","cardLikeButtonClassName","some","i","src","alt","onClick","onCardClick","onCardDelete","onCardLike","Main","cards","onEditAvatar","onEditProfile","onAddPlace","onDelete","about","avatar","style","backgroundImage","map","data","index","key","userId","onDeleteClick","PopupWithForm","title","isOpen","onClose","buttonText","inputPlaceholder1","inputPlaceholder2","input2Type","disableButton","inputValue1","inputValue2","onInputChange1","onInputChange2","onSubmit","refInput2","popupClass","disableButtonClass","e","type","placeholder","minLength","maxLength","value","onChange","required","id","pattern","ref","ImagePopup","EditProfilePopup","useState","profileName","setProfileName","description","setDescription","useEffect","editFormProps","preventDefault","onUpdateUser","target","EditAvatarPopup","onUpdateAvatar","avatarInputRef","reset","useRef","editAvatarProps","current","AddPlacePopup","setTitle","imageLink","setImageLink","addPlaceProps","api","baseUrl","headers","this","fetch","method","then","res","ok","json","Promise","reject","status","body","JSON","stringify","LikeState","addLikes","deleteLikes","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCardId","currentUser","setCurrentUser","setCards","getInitialCards","slice","catch","err","console","log","getProfile","closeAllPopups","confirmProps","handleSubmit","deleteCard","Provider","isLiked","changeLikeCardStatus","newCard","newCards","c","filter","postCard","profileData","updateProfileData","updateProfileAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.9491b1af.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <div className=\"logo\"></div>\n    </header>\n  )\n}\n\nexport default Header;","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Around The U.S.</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\n\n\nfunction Card(props) {\n  const { _id} = React.useContext(CurrentUserContext);\n  const { link, name } = props.card;\n  //const cardOwnerId = props.card.owner._id;\n   // const userId = _id\n  const likes = props.card.likes;\n  const likesCount = likes.length;\n  const cardId = props.card._id\n  const isOwn = props.card.owner._id === _id;\n  const isLiked = likes.some(i => i._id === _id);\n  const cardLikeButtonClassName = isLiked ? 'place__icon place__icon_liked': 'place__icon';\n  \n  function handleImageClick() {\n    props.onCardClick(props.card);\n  }\n\n  const handleDeleteClick = () => {\n    props.onCardDelete(cardId)\n  }\n\n  const handleLikeClick = () => {\n    props.onCardLike(props.card)\n  }\n\n  return (\n    <>\n      <img className=\"place__image\" src={link} alt={name} onClick={handleImageClick}/>\n      {isOwn ? <div className=\"place__delete\" onClick={handleDeleteClick}></div> : null}\n      <div className=\"place__info\">\n        <h3 className=\"place__name\">{name}</h3>\n        <div className=\"place__icon-container\">\n          <div className={cardLikeButtonClassName} onClick={handleLikeClick}></div>\n          <span className=\"place__likes-count\">{likesCount}</span>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  cards,\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  onDelete,\n  onCardLike,\n  onCardDelete,\n}) {\n  const { name, about, avatar, _id } = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"overlay-container\">\n          <div\n            className=\"avatar\"\n            style={{ backgroundImage: `url(${avatar})` }}\n          ></div>\n          <div className=\"overlay\">\n            <div className=\"edit\" onClick={onEditAvatar}></div>\n          </div>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{name}</h1>\n          <button\n            className=\"button button_edit\"\n            onClick={onEditProfile}\n          ></button>\n          <p className=\"profile__title\">{about}</p>\n        </div>\n        <button className=\"button button_add\" onClick={onAddPlace}></button>\n      </section>\n      <section className=\"container\">\n        <ul className=\"places\">\n          {cards.map((data, index) => {\n            return (\n              <li className=\"place\" key={index}>\n                <Card\n                  card={data}\n                  userId={_id}\n                  onCardClick={onCardClick}\n                  onDeleteClick={onDelete}\n                  onCardLike={onCardLike}\n                  onCardDelete={onCardDelete}\n                />\n              </li>\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction PopupWithForm({ title,name, isOpen,onClose,buttonText,\n  inputPlaceholder1,inputPlaceholder2,input2Type,disableButton,\n  inputValue1, inputValue2, \n  onInputChange1, onInputChange2,onSubmit, refInput2}) {\n  \n    const popupClass = isOpen ? \n    `popup popup_type_${name} popup_opened` :\n    `popup popup_type_${name}`\n\n  const disableButtonClass = disableButton ? `popup__button popup__button_disabled`:\n  `popup__button`\n\n  const handleSubmit = (e) => {\n    onSubmit(e)\n    onClose()\n  }\n\n  return (\n    <div>\n      <aside className={popupClass}>\n        <div className=\"popup__container\">\n          <form className=\"popup__form\" onSubmit={handleSubmit}>\n            <h2 className=\"popup__title\">{title}</h2>\n            {inputPlaceholder1 && <input\n              className=\"popup__input popup__name\"\n              type=\"text\"\n              name=\"title\"\n              placeholder={inputPlaceholder1}\n              minLength=\"1\"\n              maxLength=\"30\"\n              value={inputValue1 }\n              onChange={onInputChange1}\n              required\n            />}\n            <span\n              id=\"popup__title-error\"\n              className=\"popup__input_type_error\"\n            ></span>\n            {inputPlaceholder2 && <input\n              className=\"popup__input popup__about\"\n              type={input2Type}\n              name=\"link\"\n              placeholder={inputPlaceholder2}\n              pattern={input2Type === \"link\"? \"https?://.+\":null}\n              value={inputValue2  }\n              ref={refInput2}\n              onChange={onInputChange2}\n              required\n            />}\n            <span\n              id=\"popup__link-error\"\n              className=\"popup__input_type_error\"\n            ></span>\n            <button type=\"submit\" className={disableButtonClass}>{buttonText}</button>\n            <button className=\"popup__exit\" onClick={onClose}></button>\n          </form>\n        </div>\n      </aside> \n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  const {card, isOpen,onClose} = props\n\n  const popupClass = isOpen ? \n  `popup popup_type_large-image popup_opened` :\n  `popup popup_type_large-image`\n\n\n  return (\n    <aside className={popupClass}>\n      <div className=\"popup__container\">\n        <figure className=\"popup__image-figure\">\n          <button className=\"popup__exit\" onClick={onClose}></button>\n          <img className=\"popup__image\" alt=\"figure\" src={card.link}/>\n          <figcaption className=\"popup__image-title\">{card.name}</figcaption>\n        </figure>\n      </div>\n    </aside>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup(props) {\n  const {name, about} = React.useContext(CurrentUserContext);\n  const [profileName, setProfileName] = React.useState(\"\")\n  const [description, setDescription] = React.useState(\"\")\n\n  React.useEffect(() => {\n    if (name && about) {\n      setProfileName(name);\n      setDescription(about);\n    } \n  }, [name,about]);\n\n  const handleProfileChange = (e) => {\n    setProfileName(e.target.value)\n  }\n\n  const handleDescriptionChange = (e) => {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n  \n    props.onUpdateUser({\n      name: profileName,\n      about: description,\n    });  \n  }\n\n  const editFormProps = {\n    title: \"Edit Profile\",\n    name: \"edit\",\n    inputPlaceholder1: \"Name\",\n    inputPlaceholder2: \"About Me\",\n    input2Type:\"text\",\n    isOpen: props.isOpen,\n    onClose: props.onClose,\n    buttonText: \"Save\",\n    disableButton: false,\n    inputValue1: profileName,\n    inputValue2: description,\n    onSubmit: handleSubmit,\n    onInputChange1: handleProfileChange ,\n    onInputChange2: handleDescriptionChange \n  };\n\n  return (\n    <>\n      <PopupWithForm {...editFormProps} />\n    </>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, reset }) {\n  const avatarInputRef = React.useRef(\"\");\n\n  const editAvatarProps = {\n    title: \"Change profile picture\",\n    name: \"profile-picture\",\n    inputPlaceholder2: \"Image link\",\n    input2Type: \"link\",\n    isOpen: isOpen,\n    onClose: onClose,\n    buttonText: \"Save\",\n    disableButton: false,\n    onSubmit: handleSubmit,\n    refInput2: avatarInputRef,\n  };\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarInputRef.current.value,\n    });\n\n    e.target.reset();\n  }\n\n  return (\n    <>\n      <PopupWithForm {...editAvatarProps} />\n    </>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace}) {\n  const [title, setTitle] = React.useState(\"\");\n  const [imageLink, setImageLink] = React.useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onAddPlace({\n      name: title,\n      link: imageLink,\n    });\n    e.target.reset();\n  };\n\n  const handleTitleChange = (e) => {\n    setTitle(e.target.value);\n  }\n\n  const handleImageChange = (e) => {\n    setImageLink(e.target.value);\n  }\n\n  const addPlaceProps = {\n    title: \"New Place\",\n    name: \"add-place\",\n    inputPlaceholder1: \"Title\",\n    inputPlaceholder2: \"Image link\",\n    input2Type:\"link\",\n    isOpen: isOpen,\n    onClose: onClose,\n    buttonText: \"Create\",\n    disableButton: false,\n    onSubmit: handleSubmit,\n    onInputChange1: handleTitleChange,\n    onInputChange2: handleImageChange\n  };\n\n  return (\n    <>\n      <PopupWithForm {...addPlaceProps} />\n    </>\n  );\n}\n\nexport default AddPlacePopup;\n","class Api {\n    constructor({baseUrl,headers}) {\n      this.baseUrl = baseUrl;\n      this.headers = headers\n    }\n  \n    getInitialCards() {\n      return fetch(`${this.baseUrl}/cards`, {\n        method: \"GET\",\n        headers: this.headers,\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n      })\n    }\n  \n    getProfile() {\n      return fetch(`${this.baseUrl}/users/me`, {\n        method: \"GET\",\n        headers: this.headers,\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n      })\n    }\n  \n    updateProfileAvatar(avatar) {\n      return fetch(`${this.baseUrl}/users/me/avatar`, {\n        method: \"PATCH\",\n        headers: this.headers,\n        body: JSON.stringify({\n          avatar\n        }),\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n      })\n    }\n  \n    updateProfileData({name,about}) {\n      return fetch(`${this.baseUrl}/users/me`, {\n        method: \"PATCH\",\n        headers: this.headers,\n        body: JSON.stringify({\n          name,\n          about\n        }),\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n      })\n    }\n  \n    postCard({name,link}) {\n      return fetch(`${this.baseUrl}/cards`, {\n        method: \"POST\",\n        headers: this.headers,\n        body: JSON.stringify({\n          name,\n          link\n        }),\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n      })\n    }\n  \n    deleteCard(cardId) {\n      return fetch(`${this.baseUrl}/cards/${cardId}`, {\n        method: \"DELETE\",\n        headers: this.headers\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n      })\n    }\n  \n    addLikes(cardId) {\n      return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n        method: \"PUT\",\n        headers: this.headers\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n      })\n    }\n  \n    deleteLikes(cardId) {\n      return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n        method: \"DELETE\",\n        headers: this.headers\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n      })\n    }\n\n\n    changeLikeCardStatus(cardId, LikeState) {\n       if (LikeState) {\n         return this.addLikes(cardId)\n       } else {\n        return this.deleteLikes(cardId)\n       }\n    }\n  }\n\n  export const api = new Api({\n    baseUrl: \"https://around.nomoreparties.co/v1/group-1\",\n    headers: {\n      authorization: \"8d98f55e-f3f5-4d31-8928-0111e1b03804\",\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  ","import React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { api } from \"../utils/api\";\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false)\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false)\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState()\n  const [cardId, setCardId] = React.useState()\n  const [currentUser, setCurrentUser] = React.useState({})\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(res.slice(0, 6));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n\n  React.useEffect(() => {\n    api\n      .getProfile()\n      .then((res) => {\n        setCurrentUser(res)  \n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {     \n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  const handleCardDelete = (cardId) => {  \n    api.deleteCard(cardId).then((res) => {   \n       const newCards = cards.filter((c) => c._id !== cardId ? c:null);\n       setCards(newCards);\n     })\n     .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  const handleAddPlaceClick = (e) => {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen)\n  }\n\n  const handleEditAvatarClick = (e) => {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  const handleDeleteClick = (cardId) => {\n    setIsConfirmPopupOpen(true)\n    setCardId(cardId)\n  }\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card)\n    setIsImagePopupOpen(true)\n  }\n\n  const closeAllPopups = () => {\n    setIsAddPlacePopupOpen(false)\n    setIsEditProfilePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setIsConfirmPopupOpen(false)\n    setSelectedCard(null)\n    setIsImagePopupOpen(false)\n  }\n\n  const deleteCard = (e) => {\n    e.preventDefault()\n\n    api\n    .deleteCard(cardId)\n    .then(res => {\n      setCardId(null)\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n \n    closeAllPopups()\n  }\n\n  const confirmProps = {\n    title:\"Are you sure?\", name:\"confirm\", \n    isOpen:isConfirmPopupOpen,\n    onClose:closeAllPopups,\n    buttonText:\"Yes\",\n    disableButton:false,\n    handleSubmit: deleteCard\n  }\n\n  const handleUpdateUser = (profileData) => {\n    api\n    .updateProfileData(profileData)\n    .then(res =>  setCurrentUser(res))\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  const handleUpdateAvatar = (data) => {\n     api\n     .updateProfileAvatar(data.avatar)\n     .then(res =>  setCurrentUser(res))\n     .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  const handleAddPlace = (data) => {\n     api\n     .postCard(data)\n     .then(newCard => { \n      setCards([...cards,newCard])     \n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  return (  \n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header/>\n        <Main \n          cards = {cards}\n          onAddPlace={handleAddPlaceClick} \n          onEditProfile={handleEditProfileClick}\n          onEditAvatar={handleEditAvatarClick }\n          onDelete={handleDeleteClick}\n          onCardClick={handleCardClick}\n          onCardLike={ handleCardLike }\n          onCardDelete={handleCardDelete }/>\n        <Footer/>\n        <AddPlacePopup \n          isOpen={isAddPlacePopupOpen} \n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n          \n        />\n        <EditProfilePopup \n          isOpen={isEditProfilePopupOpen} \n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser} />\n        <EditAvatarPopup \n          isOpen={isEditAvatarPopupOpen} \n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n            />\n        <PopupWithForm {...confirmProps}/>\n        {selectedCard && \n        <ImagePopup card={selectedCard} onClose={closeAllPopups} isOpen={isImagePopupOpen}/>}\n      </CurrentUserContext.Provider>\n    </>   \n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}